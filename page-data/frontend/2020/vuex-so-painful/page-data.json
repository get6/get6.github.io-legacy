{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/frontend/2020/vuex-so-painful/","result":{"data":{"site":{"siteMetadata":{"title":"Jun Wick's Blog","author":{"name":"Sung Jun, Hwang"}}},"markdownRemark":{"id":"8fe1d988-5515-57e7-9389-31239f682fae","excerpt":"Vuex에선 createNamespacedHelpers 객체를 제공한다. 이 store를 이용해 각 component에서 편하게 사용하기 위해 적용해봤다. 아직도 적응중이지만 각 components끼리 data, event…","html":"<p>Vuex에선 createNamespacedHelpers 객체를 제공한다.<br>\n이 store를 이용해 각 component에서 편하게 사용하기 위해 적용해봤다.<br>\n아직도 적응중이지만 각 components끼리 data, event 전달하는것만큼 머리를 싸맬 필요는 없어서 좋아보였다.</p>\n<p>만일 <code class=\"language-text\">import { createNamespacedHelpers } from &quot;vuex&quot;;</code>를 이용하려면 먼저 store/index.js를 만들어야 한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 284px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d0f2963045db62be8b8032a85810717a/62f93/vuex_dir.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 104.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACtklEQVQ4y4WUWXPaQBCEBcYx+EgZB2NbXJJAIJCQFh3oQphw2XGqXJW85P//ks4s2MUlJQ8qbbHsp+6Z3hEENoXQ6iPXNnHVNSHpDNe6h+uBi4seQ04xIEgDCLKe/fD99hCCPoYgjD6AKkNj6OBPEqIeLuD+/I2KHUNoartDaaAsoNC20LQZfi17qIwSdJIXtAh8rlr/gdHT2geyHbDGGN4WBu7tCQGXqI2fUeiY2ZY/fi+0jVOFZx2Gdhhh/r7APRthEPvIK3RA7B5aOwKeEaxsMAjKvkKJFMoGLroWlNd3PJGyhuOiMfahBgFK3eHWVorCPAFv+tYRkDeFunlGT3X+gqqXoG47aBFMjUMUOTBNJa35uSvNTFNIf2wOcK6okMMO8paHYhTgchaj5Ae019+pPIIXzFEakHdLp+zp1AwNt6YD0fXQItsNAlYtG6XeUYPoAxeU3Xva4yVLBRZ7A4geRYeAWuhDn0RoBz46ZP/OGB3WktZFAj4xJwPY1EkNwSiP9fgN7cma3mvcDH0Itd6h1c81/wDf47EZeKfAqq2hwoYQnQg1N8CDHZBqtq1xSlO+qEPc6jw2GQofnD6qzNjY1SYBmg7ZEdVt+I+BpO6yZ20ilmlZ9DqkysRDsIIYrqDESyjPa3wbhTvoPphbbmgZlunAozemuzyGOJ6hHsxR92eoBc+4Y0fAPWhOPr7Ln8BGDzV/RU1JoFBD5HCNzuwV0mSOshVkTx7pBDjYBPeL4eBrkmzGljR9gRytIEULUk03J/yOomafqswEUi0KfYaS66PqJmhNlnh0p5CohhU7wt0oQkE1s0fZBugdKjwnhaV4SjWbQZ39QIPeZYtnsLu1+4+pw4G5gxrya9elW+J2NzWU4xVNnSkNWPMke1kK87p/CuQ5LJsh3Zg5NWhK826YrSzF8l/A7UJA+pYnfgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"vuex dir\"\n        title=\"vuex dir\"\n        src=\"/static/d0f2963045db62be8b8032a85810717a/62f93/vuex_dir.png\"\n        srcset=\"/static/d0f2963045db62be8b8032a85810717a/12f09/vuex_dir.png 148w,\n/static/d0f2963045db62be8b8032a85810717a/62f93/vuex_dir.png 284w\"\n        sizes=\"(max-width: 284px) 100vw, 284px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>폴더 구조는 이런식으로 하고 아래는 index.js 내용이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> Vue <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Vuex <span class=\"token keyword\">from</span> <span class=\"token string\">\"vuex\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> navigation <span class=\"token keyword\">from</span> <span class=\"token string\">\"@/store/modules/navigation\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> createLogger <span class=\"token keyword\">from</span> <span class=\"token string\">\"vuex/dist/logger\"</span><span class=\"token punctuation\">;</span>\n\nVue<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>Vuex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> debug <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">!==</span> <span class=\"token string\">\"production\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vuex<span class=\"token punctuation\">.</span>Store</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  modules<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    navigation\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  strict<span class=\"token operator\">:</span> debug<span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> debug <span class=\"token operator\">?</span> <span class=\"token punctuation\">[</span><span class=\"token function\">createLogger</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이제 사용할 준비가 됬다. 아래는 AppHeader.vue 내용이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>v<span class=\"token operator\">-</span>app<span class=\"token operator\">-</span>bar app color<span class=\"token operator\">=</span><span class=\"token string\">\"cyan\"</span> dark<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> <span class=\"token operator\">&lt;</span>v<span class=\"token operator\">-</span>app<span class=\"token operator\">-</span>bar<span class=\"token operator\">-</span>nav<span class=\"token operator\">-</span>icon @click<span class=\"token punctuation\">.</span>stop<span class=\"token operator\">=</span><span class=\"token string\">\"openDrawer = !openDrawer\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>v<span class=\"token operator\">-</span>app<span class=\"token operator\">-</span>bar<span class=\"token operator\">-</span>nav<span class=\"token operator\">-</span>icon @click<span class=\"token punctuation\">.</span>stop<span class=\"token operator\">=</span><span class=\"token string\">\"clickDrawer\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>v<span class=\"token operator\">-</span>toolbar<span class=\"token operator\">-</span>title<span class=\"token operator\">></span>Daisy<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>v<span class=\"token operator\">-</span>toolbar<span class=\"token operator\">-</span>title<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>v<span class=\"token operator\">-</span>app<span class=\"token operator\">-</span>bar<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createNamespacedHelpers <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vuex\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> navigationHelper <span class=\"token operator\">=</span> <span class=\"token function\">createNamespacedHelpers</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"navigation\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"AppHeader\"</span><span class=\"token punctuation\">,</span>\n  computed<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 1번</span>\n    <span class=\"token operator\">...</span>navigationHelper<span class=\"token punctuation\">.</span><span class=\"token function\">mapState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"openDrawer\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 사용가능</span>\n\n    <span class=\"token comment\">// 2번</span>\n    <span class=\"token operator\">...</span>navigationHelper<span class=\"token punctuation\">.</span><span class=\"token function\">mapState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token comment\">// vue devtools에서 error during evaluation 발생</span>\n      <span class=\"token function-variable function\">openDrawer</span><span class=\"token operator\">:</span> <span class=\"token parameter\">state</span> <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>navigation<span class=\"token punctuation\">.</span>openDrawer\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>navigationHelper<span class=\"token punctuation\">.</span><span class=\"token function\">mapActions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"clickDrawer\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></code></pre></div>\n<p>mapState에는 몇가지 형식이 있는거같은데 위에 처럼 사용해야한다. 뭔가 안되는 이유가 분명히 있을텐데 vue는 debugging이 참 어렵다.</p>\n<p>그리고 위에 @click이벤트가 지정된 곳에 주석된 부분은 다음과 같은 에러가 나서 store 이벤트로 변경했다.<br>\n<code class=\"language-text\">Computed property &quot;openDrawer” was assigned to but it has no setter</code></p>\n<p>vuex를 안쓰다가 적용해보려니 template안에서도 신경써야할게 생겨서 새롭다…</p>","tableOfContents":"","frontmatter":{"title":"Vuex createNamespacedHelpers 사용법","date":"February 05, 2020","description":null,"image":null}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/frontend/2020/react-native-start/"},"frontmatter":{"title":"React Native 설치하기","date":"2020-12-19"}}},{"node":{"fields":{"slug":"/frontend/2020/gatsbyjs-blog/"},"frontmatter":{"title":"새롭게 단장한 블로그를 소개합니다!","date":"2020-12-10"}}},{"node":{"fields":{"slug":"/frontend/2020/macos-update-and-node-install-error/"},"frontmatter":{"title":"mac OS Update와 Node Updagrade 후 발생한 에러","date":"2020-11-09"}}},{"node":{"fields":{"slug":"/frontend/2020/flutter-analytics-ios/"},"frontmatter":{"title":"Flutter Run할 때 Firebase analytics 에러가 나는 경우","date":"2020-10-30"}}},{"node":{"fields":{"slug":"/frontend/2020/flutter-state-management/"},"frontmatter":{"title":"플러터 상태관리 개념","date":"2020-10-13"}}},{"node":{"fields":{"slug":"/frontend/2020/blog-with-gatsbyjs/"},"frontmatter":{"title":"Gatsby로 Github 블로그 만들어보자!","date":"2020-09-18"}}},{"node":{"fields":{"slug":"/frontend/2020/flutter-firebase-anroid/"},"frontmatter":{"title":"Flutter Firebase android 연동","date":"2020-08-10"}}},{"node":{"fields":{"slug":"/frontend/2020/flutter-firebase-ios/"},"frontmatter":{"title":"Flutter Firebase ios 연동","date":"2020-08-10"}}},{"node":{"fields":{"slug":"/frontend/2020/flutter-run-error-for-package/"},"frontmatter":{"title":"플러터 project 위치 변경 후 에러","date":"2020-07-31"}}},{"node":{"fields":{"slug":"/frontend/2020/flutter-ios-build-error/"},"frontmatter":{"title":"플러터 ios 빌드 에러시 해결","date":"2020-07-15"}}},{"node":{"fields":{"slug":"/frontend/2020/padac-flutter/"},"frontmatter":{"title":"Flutter 개념 잡기","date":"2020-06-08"}}},{"node":{"fields":{"slug":"/frontend/2020/vue-bind-style/"},"frontmatter":{"title":"vue style bind 적용이 안될 때","date":"2020-02-19"}}},{"node":{"fields":{"slug":"/frontend/2020/vue-convert-html/"},"frontmatter":{"title":"에디터로 저장된 문구 vue v-html 치환하기","date":"2020-02-13"}}},{"node":{"fields":{"slug":"/frontend/2020/android-image-name/"},"frontmatter":{"title":"안드로이드 drawable 폴더 이미지명","date":"2020-01-29"}}},{"node":{"fields":{"slug":"/frontend/2020/jekyll-serve-on-local/"},"frontmatter":{"title":"Github pages jekyll 생성 후 로컬에서 build하는 방법","date":"2020-01-04"}}},{"node":{"fields":{"slug":"/frontend/2019/vue-run-serve-error/"},"frontmatter":{"title":"vue npm run serve error가 발생했던 이유","date":"2019-12-23"}}},{"node":{"fields":{"slug":"/frontend/2019/multi-platform-android/"},"frontmatter":{"title":"Kotlin 멀티플랫폼 프로젝트 실행","date":"2019-12-20"}}},{"node":{"fields":{"slug":"/frontend/2019/vue-run-serve-build-error/"},"frontmatter":{"title":"vue run serve error 발생","date":"2019-12-18"}}}]}},"pageContext":{"slug":"/frontend/2020/vuex-so-painful/","tag":"frontend","previous":{"fields":{"slug":"/backend/2020/python-exec-example/"},"frontmatter":{"tags":["backend","python"]}},"next":{"fields":{"slug":"/devops/2020/githooks/"},"frontmatter":{"tags":["devops","git","gitHooks","pre-commit","lint-staged"]}}}},"staticQueryHashes":["1146911855","1973561601","3826269039"]}