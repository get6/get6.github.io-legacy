{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/backend/2020/mariadb-rule/","result":{"data":{"site":{"siteMetadata":{"title":"Jun Wick's Blog","author":{"name":"Sung Jun, Hwang"}}},"markdownRemark":{"id":"87c51a05-22e0-51ea-9fdf-6bb299144123","excerpt":"프로젝트를 DynamoDB와 MariaDB를 섞어서 쓰고있다. 파일경로를 aws서버에서 가져와야 하기때문에 다들 DB조회 후 한 건마다 돌려서 공통 함수를 호출해서 파일 경로를 만들어줬기 때문에 나도 그렇게 해야하나 싶었다가도 내가 해야할 메뉴에는 이미지가 있는 테이블이…","html":"<p>프로젝트를 DynamoDB와 MariaDB를 섞어서 쓰고있다.<br>\n파일경로를 aws서버에서 가져와야 하기때문에 다들 DB조회 후 한 건마다 돌려서 공통 함수를 호출해서 파일 경로를 만들어줬기 때문에 나도 그렇게 해야하나 싶었다가도<br>\n내가 해야할 메뉴에는 이미지가 있는 테이블이 5개 * 이미지 관련 컬럼 3~8개였기 때문에 쉬운 방법을 찾아보다가 글을 쓴다.</p>\n<p>처음 생각했던 방법은 예를들어 Model객체에다가 getter에다가 해당 메소드를 호출해 데이터를 조합 후 보내면 되겠다 생각했다.</p>\n<p>properties에 경로가 지정되어있기 때문에 String fileURL이라는 변수에다가 <code class=\"language-text\">$value(&quot;${some url&quot;})</code> 를 선언하고 받아보니 null이였다.</p>\n<p>그래서 두번째 시도에서는 해당 Model에다가 해당 메소드가 있는 Util객체를 @Autowired를 선언해서 하니 안됬었다.</p>\n<p>두 방법 다 예전에 안됬던 기억이어서 혹시나하고 해봤는데 역시나였다.<br>\n함수를 만들어 for문을 돌리기에는 자바가 변수가 고정적이라 일일히 수작업으로 하기에는 개발자스럽지 않은 느낌이여서 Controller에서 조회하기 전에 경로를 searchModel같은 곳에 담아두고 SQL 쿼리 상의 더해주면 쉽게 해결되겠다 싶었다!</p>\n<p>기대와는 달리 #{filURL} + some<em>file</em>route는 계속해서 null을 반환했다.<br>\n뭔가싶어 찾아보니 MariaDB는 문자열에 숫자가 있는건 숫자끼리 더하고 데이터가 null이거나 이상할때는 null을 반환했다.<br>\nMariaDB는 <code class=\"language-text\">CONCAT(&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;...)</code> 이런식으로 해야만 문자열을 합칠 수 있었다.<br>\nnull값이 있으면 null로 반환되어 경로가 이상할 일은 없어 다행이었다.</p>","tableOfContents":"","frontmatter":{"title":"MariaDB 문자열 합치기","date":"January 21, 2020","description":"MariaDB안에서 문자열을 합쳐보자!","image":null}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/methodology/2021/gof-design-patterns/"},"frontmatter":{"title":"GoF(Gang of Four) Design Patterns 정리","date":"2021-01-17"}}},{"node":{"fields":{"slug":"/backend/2021/nextauth-guide/"},"frontmatter":{"title":"Next.js로 Admin 만들기","date":"2021-01-16"}}},{"node":{"fields":{"slug":"/backend/2020/test-driven-development/"},"frontmatter":{"title":"TDD(TEST DRIVEN DEVELOPMENT)를 SPRING BOOT에 사용하기","date":"2020-12-01"}}},{"node":{"fields":{"slug":"/backend/2020/mapstruct-guide-first/"},"frontmatter":{"title":"MapStruct 에러 해결 첫번째","date":"2020-08-07"}}},{"node":{"fields":{"slug":"/backend/2020/mapstruct-guide-second/"},"frontmatter":{"title":"MapStruct 에러 해결 두번째","date":"2020-08-07"}}},{"node":{"fields":{"slug":"/backend/2020/spring-security-example1/"},"frontmatter":{"title":"스프링 시큐리티 구축 1","date":"2020-06-17"}}},{"node":{"fields":{"slug":"/backend/2020/spring-security/"},"frontmatter":{"title":"스프링 시큐리티 구축","date":"2020-06-13"}}},{"node":{"fields":{"slug":"/backend/2020/java-jpa/"},"frontmatter":{"title":"JPA 정리","date":"2020-06-08"}}},{"node":{"fields":{"slug":"/backend/2020/spring-msa-config/"},"frontmatter":{"title":"스프링 부트 MSA 프로젝트 - config 서버 구축","date":"2020-05-27"}}},{"node":{"fields":{"slug":"/backend/2020/spring-initializr-gradle-type/"},"frontmatter":{"title":"Spring Initializr Gradle Type 비교","date":"2020-03-24"}}},{"node":{"fields":{"slug":"/backend/2020/type-of-traffic/"},"frontmatter":{"title":"인바운드 트래픽과 아웃바운드 트래픽 설명","date":"2020-03-18"}}},{"node":{"fields":{"slug":"/backend/2020/gradle-summary/"},"frontmatter":{"title":"Gradle 정리","date":"2020-03-16"}}},{"node":{"fields":{"slug":"/backend/2020/nodejs-express-guid/"},"frontmatter":{"title":"Express 가이드","date":"2020-03-13"}}},{"node":{"fields":{"slug":"/backend/2020/backend-roadmap1/"},"frontmatter":{"title":"Backend Developer - How does the internet work?","date":"2020-03-10"}}},{"node":{"fields":{"slug":"/backend/2020/openbanking-test/"},"frontmatter":{"title":"OpenBanking test 적용","date":"2020-03-10"}}},{"node":{"fields":{"slug":"/backend/2020/python-dynamic-parameter/"},"frontmatter":{"title":"Python binds dynamic parameters","date":"2020-02-21"}}},{"node":{"fields":{"slug":"/backend/2020/mybatis-parameter/"},"frontmatter":{"title":"Mybatis parameter 조심해야할 점","date":"2020-02-13"}}},{"node":{"fields":{"slug":"/backend/2020/sql-problem-solving/"},"frontmatter":{"title":"SQL 가상으로 목록 만들기","date":"2020-02-10"}}},{"node":{"fields":{"slug":"/backend/2020/python-exec-example/"},"frontmatter":{"title":"파이썬 exec 함수 사용방법","date":"2020-01-30"}}},{"node":{"fields":{"slug":"/backend/2020/vscode-java-clean/"},"frontmatter":{"title":"vscode에서 java clean하는 법","date":"2020-01-20"}}}]}},"pageContext":{"slug":"/backend/2020/mariadb-rule/","tag":"backend","previous":{"fields":{"slug":"/backend/2020/vscode-java-clean/"},"frontmatter":{"tags":["backend","vscode","java"]}},"next":{"fields":{"slug":"/frontend/2020/android-image-name/"},"frontmatter":{"tags":["frontend","android"]}}}},"staticQueryHashes":["1146911855","1973561601","3826269039"]}