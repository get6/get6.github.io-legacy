{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/backend/2020/sql-problem-solving/","result":{"data":{"site":{"siteMetadata":{"title":"Jun Wick's Blog","author":{"name":"Sung Jun, Hwang"}}},"markdownRemark":{"id":"5fda0fcf-f6b4-595b-af68-129c8b47f4d9","excerpt":"프로그래머스에서 SQL 코딩테스트 문제를 풀고있었는데 입양 시각 구하기에서 고민했던걸 공유해보고자 올린다. 0시부터 23시까지 시간별로 갯수를 구해야하는 문제다. 조회 목록에 없는 시간은 갯수가 0이지만 목록에 표출되어야하는게 문제였다. 오라클 MySQL…","html":"<p>프로그래머스에서 SQL 코딩테스트 문제를 풀고있었는데 입양 시각 구하기에서 고민했던걸 공유해보고자 올린다.</p>\n<p>0시부터 23시까지 시간별로 갯수를 구해야하는 문제다.<br>\n조회 목록에 없는 시간은 갯수가 0이지만 목록에 표출되어야하는게 문제였다.</p>\n<blockquote>\n<p>오라클</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> A<span class=\"token punctuation\">.</span><span class=\"token keyword\">hour</span><span class=\"token punctuation\">,</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span>\n<span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">select</span> <span class=\"token number\">0</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">hour</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token keyword\">as</span> count <span class=\"token keyword\">from</span> dual\n    <span class=\"token keyword\">union</span>\n    <span class=\"token keyword\">select</span> <span class=\"token keyword\">level</span> <span class=\"token operator\">*</span> <span class=\"token number\">1</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">hour</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span>  <span class=\"token keyword\">from</span> dual\n    <span class=\"token keyword\">connect</span> <span class=\"token keyword\">by</span> <span class=\"token keyword\">level</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">24</span>\n    <span class=\"token keyword\">union</span>\n    <span class=\"token keyword\">select</span> TO_NUMBER<span class=\"token punctuation\">(</span>TO_CHAR<span class=\"token punctuation\">(</span><span class=\"token keyword\">DATETIME</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'HH24'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> ANIMAL_OUTS\n    <span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> TO_NUMBER<span class=\"token punctuation\">(</span>TO_CHAR<span class=\"token punctuation\">(</span><span class=\"token keyword\">DATETIME</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'HH24'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> <span class=\"token keyword\">hour</span>\n<span class=\"token punctuation\">)</span> A\n<span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> a<span class=\"token punctuation\">.</span><span class=\"token keyword\">hour</span>\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> a<span class=\"token punctuation\">.</span><span class=\"token keyword\">hour</span></code></pre></div>\n<blockquote>\n<p>MySQL</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token keyword\">hour</span><span class=\"token punctuation\">,</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">select</span> <span class=\"token number\">0</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">hour</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token keyword\">as</span> count\n    <span class=\"token keyword\">union</span>\n    <span class=\"token keyword\">select</span> A<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token keyword\">select</span> <span class=\"token variable\">@hour</span> :<span class=\"token operator\">=</span> <span class=\"token variable\">@hour</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">hour</span><span class=\"token punctuation\">,</span> A<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span>\n            <span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> <span class=\"token number\">0</span> <span class=\"token keyword\">as</span> count <span class=\"token keyword\">from</span> animal_outs<span class=\"token punctuation\">)</span> A<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span> <span class=\"token keyword\">select</span> <span class=\"token variable\">@hour</span> :<span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> b\n        <span class=\"token keyword\">limit</span> <span class=\"token number\">23</span>\n    <span class=\"token punctuation\">)</span> A\n    <span class=\"token keyword\">union</span>\n     <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">HOUR</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">DATETIME</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token keyword\">HOUR</span><span class=\"token punctuation\">,</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> COUNT <span class=\"token keyword\">FROM</span> ANIMAL_OUTS\n     <span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> <span class=\"token keyword\">HOUR</span> <span class=\"token keyword\">HAVING</span> <span class=\"token keyword\">HOUR</span> <span class=\"token operator\">BETWEEN</span> <span class=\"token number\">0</span> <span class=\"token operator\">AND</span> <span class=\"token number\">23</span>\n     <span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> <span class=\"token keyword\">hour</span>\n<span class=\"token punctuation\">)</span> A\n<span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> <span class=\"token keyword\">hour</span>\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> <span class=\"token number\">1</span></code></pre></div>\n<p>이걸 활용하면 더 나은 쿼리도 구현할 수 있을거같다.</p>","tableOfContents":"","frontmatter":{"title":"SQL 가상으로 목록 만들기","date":"February 10, 2020","description":null,"image":null}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/methodology/2021/gof-design-patterns/"},"frontmatter":{"title":"GoF(Gang of Four) Design Patterns 정리","date":"2021-01-17"}}},{"node":{"fields":{"slug":"/backend/2021/nextauth-guide/"},"frontmatter":{"title":"Next.js로 Admin 만들기","date":"2021-01-16"}}},{"node":{"fields":{"slug":"/backend/2020/test-driven-development/"},"frontmatter":{"title":"TDD(TEST DRIVEN DEVELOPMENT)를 SPRING BOOT에 사용하기","date":"2020-12-01"}}},{"node":{"fields":{"slug":"/backend/2020/mapstruct-guide-first/"},"frontmatter":{"title":"MapStruct 에러 해결 첫번째","date":"2020-08-07"}}},{"node":{"fields":{"slug":"/backend/2020/mapstruct-guide-second/"},"frontmatter":{"title":"MapStruct 에러 해결 두번째","date":"2020-08-07"}}},{"node":{"fields":{"slug":"/backend/2020/spring-security-example1/"},"frontmatter":{"title":"스프링 시큐리티 구축 1","date":"2020-06-17"}}},{"node":{"fields":{"slug":"/backend/2020/spring-security/"},"frontmatter":{"title":"스프링 시큐리티 구축","date":"2020-06-13"}}},{"node":{"fields":{"slug":"/backend/2020/java-jpa/"},"frontmatter":{"title":"JPA 정리","date":"2020-06-08"}}},{"node":{"fields":{"slug":"/backend/2020/spring-msa-config/"},"frontmatter":{"title":"스프링 부트 MSA 프로젝트 - config 서버 구축","date":"2020-05-27"}}},{"node":{"fields":{"slug":"/backend/2020/spring-initializr-gradle-type/"},"frontmatter":{"title":"Spring Initializr Gradle Type 비교","date":"2020-03-24"}}},{"node":{"fields":{"slug":"/backend/2020/type-of-traffic/"},"frontmatter":{"title":"인바운드 트래픽과 아웃바운드 트래픽 설명","date":"2020-03-18"}}},{"node":{"fields":{"slug":"/backend/2020/gradle-summary/"},"frontmatter":{"title":"Gradle 정리","date":"2020-03-16"}}},{"node":{"fields":{"slug":"/backend/2020/nodejs-express-guid/"},"frontmatter":{"title":"Express 가이드","date":"2020-03-13"}}},{"node":{"fields":{"slug":"/backend/2020/backend-roadmap1/"},"frontmatter":{"title":"Backend Developer - How does the internet work?","date":"2020-03-10"}}},{"node":{"fields":{"slug":"/backend/2020/openbanking-test/"},"frontmatter":{"title":"OpenBanking test 적용","date":"2020-03-10"}}},{"node":{"fields":{"slug":"/backend/2020/python-dynamic-parameter/"},"frontmatter":{"title":"Python binds dynamic parameters","date":"2020-02-21"}}},{"node":{"fields":{"slug":"/backend/2020/mybatis-parameter/"},"frontmatter":{"title":"Mybatis parameter 조심해야할 점","date":"2020-02-13"}}},{"node":{"fields":{"slug":"/backend/2020/python-exec-example/"},"frontmatter":{"title":"파이썬 exec 함수 사용방법","date":"2020-01-30"}}},{"node":{"fields":{"slug":"/backend/2020/mariadb-rule/"},"frontmatter":{"title":"MariaDB 문자열 합치기","date":"2020-01-21"}}},{"node":{"fields":{"slug":"/backend/2020/vscode-java-clean/"},"frontmatter":{"title":"vscode에서 java clean하는 법","date":"2020-01-20"}}}]}},"pageContext":{"slug":"/backend/2020/sql-problem-solving/","tag":"backend","previous":{"fields":{"slug":"/devops/2020/docker-quick-start-build/"},"frontmatter":{"tags":["devops","docker"]}},"next":{"fields":{"slug":"/frontend/2020/vue-convert-html/"},"frontmatter":{"tags":["frontend","javascript","vue"]}}}},"staticQueryHashes":["1146911855","1973561601","3826269039"]}