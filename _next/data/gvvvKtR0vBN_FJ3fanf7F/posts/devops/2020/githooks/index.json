{"pageProps":{"post":{"title":"Git pre-commit lint-staged 에러 날때","date":"2020-02-05","slug":"devops/2020/githooks/index","content":"<p>Vue-cli 설치를 하면 eslint는 자동으로 깔린데 그때 package.json 제일 밑에</p>\n<pre><code>\"gitHooks\": {\n    \"pre-commit\": \"lint-staged\"\n},\n\"lint-staged\": {\n    \"*.{js,vue}\": [\n        \"vue-cli-service lint\",\n        \"git add\"\n    ]\n}\n</code></pre>\n<p>이렇게 추가되어있다.<br>\n근데 vscode에서 extension pack을 깔아서인지 npm install하면서 뭐가 바뀌었는지 어느날 git commit이 안되기 시작했다(오 하느님)<br>\ngit commit --no-verify를 하면 올라는 가지만 gitHooks가 적용이 안되서 찜찜하게 남아있었다.<br>\n찾다 찾다보니 원인을 못찾고 해결방법만 찾았다.</p>\n<pre><code>npm install --save-dev lint-staged\n</code></pre>\n<p>실행하게되면 package.json, package-lock.json에 lint-staged가 추가된다.<br>\n공유 프로젝트에서라면 뭔가 찝찝한 커밋이 되겠지만 결과적으로 커밋이 에러없이 올라간다.</p>\n"}},"__N_SSG":true}